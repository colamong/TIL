---
title: "[AI TIL] RAG vs CAG 구조 비교와 활용 정리"
date: 2025-04-12 09:00:00 +0900
categories: [AI, RAG, CAG]
tags: [RAG, CAG, 생성형AI, AI서비스, LangChain]
---

## ✅ RAG란?

**RAG (Retrieval-Augmented Generation)**는 생성형 AI가 답변을 만들기 전에 **외부 문서를 검색(Retrieve)**해서, 그 내용을 바탕으로 **답변을 생성(Generate)**하는 구조이다.

### 사용 이유

- GPT는 실시간 정보나 개인화된 데이터를 알지 못함
- 외부 문서를 검색해서 **최신 정보나 회사 내부 문서**까지 활용 가능
- 프롬프트에 길게 정보를 줄 수 있어 **대형 문서 대응에 유리**

### 예시

```
Q: SSAFY 서울 캠퍼스는 어디야?
→ 검색(Retriever): 관련 문서에서 위치 정보 추출
→ 생성(LLM): "SSAFY 서울 캠퍼스는 삼성역 근처에 있습니다."
```

---

## ✅ CAG란?

**CAG (Context-Augmented Generation)**는 검색한 문서를 LLM에게 길게 주는 대신, **핵심 정보를 ‘지식 토큰(Knowledge Token)’ 형태로 정제하여 모델에 삽입**하는 방식이다.

### 사용 이유

- 검색 결과를 일일이 읽게 하지 않고, 바로 활용할 수 있는 형태로 삽입
- 모델의 **처리 효율성과 속도**가 향상됨
- 프롬프트 공간이 적게 들어서 **비용 효율성**도 좋음

---

## ✅ RAG vs CAG 핵심 비교

| 항목            | RAG                                          | CAG                                   |
| --------------- | -------------------------------------------- | ------------------------------------- |
| **정확성**      | 검색 결과의 질(Retriever 성능)에 따라 달라짐 | 모델 자체의 성능에 의존               |
| **처리 속도**   | 상대적으로 느림 (문서 생성까지 거침)         | 빠름 (지식 토큰 바로 처리)            |
| **허용 정보량** | 수만~수십만 토큰까지 처리 가능               | 상대적으로 제한적                     |
| **유연성**      | 다양한 문서를 실시간 활용 가능               | 주입할 지식 토큰을 사전에 정리해야 함 |

---

## ✅ 어떤 상황에 유리할까?

| 기준                                     | RAG                             | CAG                    |
| ---------------------------------------- | ------------------------------- | ---------------------- |
| **정적 지식** (매뉴얼, 기술문서)         | O                               | O                      |
| **동적 정보** (실시간 문서, FAQ 변경 등) | **O (강점!)**                   | X                      |
| **고객 맞춤형 응답**                     | **O** (외부 DB, 로그 활용 가능) | 제한적                 |
| **속도 중요**                            | X                               | **O** (모바일/채팅 등) |
| **토큰 제한 문제**                       | 해결 가능 (문서 요약 포함)      | 발생할 수 있음         |

---

## ✅ 하이브리드 방식도 있다!

- **RAG + CAG** 같이 사용할 수 있음
  - 자주 쓰는 기본 정보 → **CAG로 지식 토큰화**
  - 실시간 문서나 사용자 요청 기반 문서 → **RAG로 검색해서 생성**

### 예시

> 고객센터 AI
>
> - 회사 정책, 주소 등 → 지식 토큰으로 내장 (CAG)
> - 최신 배송 상태, 환불 정책 등 → RAG 검색 기반

---

## ✅ 마무리 한 줄 요약

> RAG는 **"검색이 중요한 동적 정보 서비스"**,  
> CAG는 **"빠르고 가벼운 응답이 필요한 정적 서비스"**에 적합하다.
